<!doctype html>
<html>

<head>
	<title>IMAGE BOARD</title>
	<link rel="stylesheet" href="/style.css">
</head>

<body>
	<div id="main"><!--VUE------------------------------------------>
		<header>
			<h1>IMAGE BOARD</h1>
			<form>
				<input v-model='form.title' type="text" name="title" placeholder="title">
				<input v-model='form.description' type="text" name="description" placeholder="image description">
				<input v-model='form.username' type="text" name="username" placeholder="username">
				<input type="file" name="file" accept="image/*" @change='handleFileChange'>
				<button @click.prevent.default='uploadFile'>upload</button>
			</form>
		</header>

		<div class="wrapper">
			<div class="card" v-for='image in images' v-if='images.length>0' @click='updataClicked(image.id)'>
				<img class="card-img" :src=image.url />
			<span class="title"><p>{{image.title}}</p></span>
			</div>
		</div>


			<popup
				:clicked-img="clickedImg"
				v-if='clickedImg'
				@close-it = "onclosepopup"
			/>
	</div>
			<script id='popup-template' type="text/x-template">

				<div v-if='clickedImg' class="popup"
							>
							<button class='x' @click='closepopup'>X</button>
							<img
								:src='imageInfo.url'
								/>
							<h1>
								{{imageInfo.title}}

							</h1>
							<p>{{imageInfo.description}}</p>
							<h3>add a comment</h3>
							<form>
				                <input v-model='form.comment' type="text" name="comment" placeholder="enter your comment" required>
				                <input v-model='form.username' type="text" name="username" placeholder="user name" required>
				                <button @click.prevent.default='submitComment'>Submit</button>
							</form>
							<h3>comments for image id {{clickedImg}}</h3>

							<div class='comments-conatainer' v-for='comment in comments' v-if='comments.length>0'>
							<p>
							{{comment.comment}}, comment by: {{comment.username}}, {{comment.created_at}}

							</p>
							</div>
							</div>

			</script>


	<script src="/js/vue.js"></script>
	<script src="/js/axios.min.js"></script>
	<script src="/js/script.js"></script>
</body>

</html>
