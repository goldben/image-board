<!doctype html>
<html>

<head>
	<title>IMAGE BOARD</title>
	<link rel="stylesheet" href="/style.css">
</head>

<body>
	<div id="main"><!--VUE------------------------------------------>
		<header>
			<h1>IMAGE BOARD</h1>
			<form>
				<input v-model='form.title' type="text" name="title" placeholder="title">
				<input v-model='form.description' type="text" name="description" placeholder="image description">
				<input v-model='form.username' type="text" name="username" placeholder="username">
				<input type="file" name="file" accept="image/*" @change='handleFileChange'>
				<button @click.prevent.default='uploadFile'>upload</button>
			</form>
		</header>

		<div class="wrapper">
			<div class="card" v-for='image in images' v-if='images.length>0' @click='onClickGalleryImage(image)'>
				<img class="card-img" :src=image.url />
			<span class="title"><p>{{image.title}}</p></span>
			</div>
		</div>


			<popup
				:image-id = "popupData.imageId"
				:comments = "popupData.comments"
				:image-url="popupData.imageUrl"
				:title="popupData.title"
				:description="popupData.description"
				:comments="popupData.comments"
				:show-popup="showPopup"
				:on-close-popup="onClosePopup"
			/>
	</div>
			<script id='popup-template' type="text/x-template">

				<div v-if='showPopup' class="popup"
							>
							<button class='x' v-on:click='onClosePopup'>X</button>
							<img
								:src='imageUrl'
								/>
							<h1>
								{{title}}

							</h1>
							<p>{{description}}</p>
							<h3>add a comment</h3>
							<form>
				                <input v-model='form.comment' type="text" name="comment" placeholder="enter your comment" required>
				                <input v-model='form.username' type="text" name="username" placeholder="user name" required>
				                <button @click.prevent.default='submitComment(imageId)'>Submit</button>
							</form>
							<h3>comments for image id {{imageId}}</h3>

							<div class='comments-conatainer' v-for='comment in comments' v-if='comments.length>0'>
							<p>
							{{content}}
							</p>
							</div>
							</div>

			</script>


	<script src="/js/vue.js"></script>
	<script src="/js/axios.min.js"></script>
	<script src="/js/script.js"></script>
</body>

</html>
